services:
  - type: web
    name: chatpdf-backend
    env: docker
    rootDir: backend
    plan: free # Note: Free plans on Render do not support persistent disks.
    # disk: # Uncomment this section if you upgrade to a paid plan on Render for persistent storage!
    #   name: data
    #   mountPath: /data
    #   sizeGB: 1
    envVars:
      - key: GEMINI_API_KEY
        sync: false # Set this sensitive key in the Render dashboard
      - key: FRONTEND_URL
        sync: false # Set to your deployed Vercel URL
      - key: CHROMA_PERSIST_DIR
        value: /data/chroma_db # Uses ephemeral storage on free plan, or persistent disk if upgraded
      - key: DATABASE_URL
        value: sqlite:////data/chatpdf.db
      - key: UPLOAD_DIRECTORY
        value: /data/uploads
